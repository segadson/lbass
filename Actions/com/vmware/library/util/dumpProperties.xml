<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="dumpProperties" result-type="void" api-version="6.0.0" id="e9176501-c0ed-491f-b8f5-eb51d004c902" version="0.0.0" allowed-operations="evf" category-name="com.vmware.library.util">
  <param n="props" t="Properties"><![CDATA[]]></param>
  <param n="lvl" t="number"><![CDATA[]]></param>
  <script encoded="false"><![CDATA[// Dump Properties to log
if (lvl == null){
	lvl = 10
}

function dumpProperties (props, lvl) {
	var keys = props.keys;
	var prefix = ""
	    for (var i=0; i<lvl; i++){
		prefix = prefix + " ";
	} 
	for (k in keys){
		var key = keys[k];
		var value = props.get(keys[k])
		if ("Properties" == System.getObjectType(value)){
		  System.log(prefix + key + "[" )
		  dumpProperties(value, (lvl+2));
		  System.log(prefix + "]" )
		} else {
		  System.log( prefix + key + ":" + value)
		}
	}
}
dumpProperties(props,lvl)]]></script>
</dunes-script-module>